# GFWProxyProtector

به کمک این اسکریپت میتوانید ماژول xt_geoip را برای هسته ی لینوکس نصب و فعال کنید. این ماژول سیستم عامل را قادر به کنترل اتصالات شبکه بر اساس خصوصیات جغرافیایی می‌کند. با این روش دیگر اهمیتی ندارد از چه نرم افزار پروکسی یا وی پی ان بر روی سرور استفاده می‌کنید چون نهایتا تمام اتصالات توسط هسته و iptables بررسی خواهند شد.

برای مثال این اسکریپت پس از فعالسازی ماژول به کمک دستور زیر مانع اتصالات خروجی به سمت آی‌پی های ایرانی می‌شود:

```
iptables -A OUTPUT -m geoip --dst-cc IR -j DROP
```

چنانچه تمایل دارید کشور دیگری اضافه کنید از همین دستور استفاده کرده و کد دو رقمی کشور مدنظر را جایگزین IR نمایید.
همچنین می‌توانید با دستور زیر اتصالات ورودی را نیز محدود به یک کشور کنید برای مثال فقط آی‌پی های ایرانی اجازه برقراری ارتباط با سرور شما را داشته باشند. (توصیه نمی‌شود چون احتمال دارد آی‌پی کاربر در فهرست موجود در ماژول وجود نداشته باشد و وی موفق به اتصال نشود! )
‌‍‍

```
iptables -A INPUT -m geoip ! --src-cc IR -j DROP
```

## منابع

- [فهرست کد های دو رقمی کشورها](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)
- [صفحه ی برنامه](https://inai.de/projects/xtables-addons/geoip.php)
